<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tip Split App</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #f4f6f8;
  padding: 12px;
}
.container {
  max-width: 720px;
  margin: auto;
  background: #fff;
  border-radius: 14px;
  padding: 16px;
}
.row { display:flex; gap:8px; margin-bottom:8px; flex-wrap:wrap; }
.field { flex:1; min-width:110px; display:flex; flex-direction:column; }
label { font-size:12px; color:#555; }
input {
  padding:8px;
  font-size:16px;
  border-radius:8px;
  border:1px solid #ccc;
}
button {
  padding:10px;
  border:none;
  border-radius:10px;
  background:#2563eb;
  color:#fff;
}
.card {
  margin-top:12px;
  padding:12px;
  border-radius:12px;
  background:#fafafa;
}
</style>
</head>

<body>
<div class="container">
<h2>ðŸ’° Tip Split App</h2>

<div class="row">
  <div class="field">
    <label>1F Cash</label>
    <input id="f1c" inputmode="numeric">
  </div>
  <div class="field">
    <label>1F Card</label>
    <input id="f1d" inputmode="numeric">
  </div>
</div>

<div class="row">
  <div class="field">
    <label>2F Cash</label>
    <input id="f2c" inputmode="numeric">
  </div>
  <div class="field">
    <label>2F Card</label>
    <input id="f2d" inputmode="numeric">
  </div>
</div>

<h3>Split</h3>

<div class="row">
  <div class="field"><label>Percent %</label><input id="p1" inputmode="numeric"></div>
  <div class="field"><label>People</label><input id="c1" inputmode="numeric"></div>
</div>
<div class="row">
  <div class="field"><label>Percent %</label><input id="p2" inputmode="numeric"></div>
  <div class="field"><label>People</label><input id="c2" inputmode="numeric"></div>
</div>

<h3>âž• Extra Tip</h3>
<input id="extra" inputmode="numeric">

<h3>ðŸ“Š Result</h3>
<div id="result"></div>
</div>

<script>
const n = v => Number(v || 0);

document.querySelectorAll("input").forEach(i =>
  i.addEventListener("input", calculate)
);

function calculate() {
  const total =
    n(f1c.value) + n(f1d.value) +
    n(f2c.value) + n(f2d.value) +
    n(extra.value);

  const rows = [
    { p:n(p1.value)/100, c:n(c1.value) },
    { p:n(p2.value)/100, c:n(c2.value) }
  ].filter(r=>r.p>0&&r.c>0);

  if (!rows.length || total<=0) {
    result.innerHTML="";
    return;
  }

  const weight = rows.reduce((s,r)=>s+r.p*r.c,0);
  const base = Math.floor(total/weight);

  let dist=0;
  let html=`<div class="card"><b>Total:</b> $${total}<ul>`;
  rows.forEach(r=>{
    const one=Math.floor(base*r.p);
    const sum=one*r.c;
    dist+=sum;
    html+=`<li>${r.p*100}% â†’ $${one} Ã— ${r.c} = $${sum}</li>`;
  });
  html+=`</ul><b>Leftover:</b> $${total-dist}</div>`;
  result.innerHTML=html;
}
</script>
</body>
</html>
